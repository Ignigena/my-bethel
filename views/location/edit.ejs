<form class="form-horizontal sidebar-form" role="form" action="/location/update/<%= location.id %>" method="post" accept-charset="UTF-8">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Edit <%= location.name %> location</h4>
      </div>
      <div class="modal-body">
        <%- partial('partials/form') %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary">Save Location</button>
      </div>
      <input type="hidden" name="_csrf" value="<%= _csrf %>" />
      <input type="hidden" name="ministry" value="<%= session.Ministry.id %>" />
    </div>
  </div>
</form>
<script language="javascript">
  jQuery(document).ready(function($) {
    var locationData = new google.maps.places.Autocomplete((document.getElementById('location-autocomplete')), { types: ['geocode'] });
    google.maps.event.addListener(locationData, 'place_changed', function() {
        var place = locationData.getPlace();
        $('input[name="address"]').val(place.formatted_address);
        $('.address-autocomplete-group span.lat-long').text(place.geometry.location.k.toFixed(3)+', '+place.geometry.location.A.toFixed(3));
        $('input[name="latitude"]').val(place.geometry.location.k);
        $('input[name="longitude"]').val(place.geometry.location.A);
    });
  });
</script>
