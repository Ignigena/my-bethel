<div class="form-horizontal" role="form">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Add a ministry location</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="title" class="col-sm-3 control-label">Name</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="name" title="locationName" placeholder="Location name" />
          </div>
        </div>
        <div class="form-group">
          <label for="title" class="col-sm-3 control-label">Description</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" name="description" title="locationDescription" placeholder="A brief description of the location" />
          </div>
        </div>
        <div class="form-group">
          <label for="title" class="col-sm-3 control-label">Address</label>
          <div class="col-sm-9">
            <div class="input-group address-autocomplete-group">
              <input type="text" class="form-control" name="address" title="locationAddress" id="location-autocomplete" placeholder="Location address" /><span class="input-group-addon"><i class="fa fa-location-arrow"></i> <span class="lat-long">0, 0</span></span>
            </div>
          </div>
          <input type="hidden" name="latitude" value="" />
          <input type="hidden" name="longitude" value="" />
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary">Save Location</button>
      </div>
      <input type="hidden" name="_csrf" value="<%= _csrf %>" />
    </div>
  </div>
</div>
<script language="javascript">
  jQuery(document).ready(function($) {
    var locationData = new google.maps.places.Autocomplete((document.getElementById('location-autocomplete')), { types: ['geocode'] });
    google.maps.event.addListener(locationData, 'place_changed', function() {
        var place = locationData.getPlace();
        $('input[name="address"]').val(place.formatted_address);
        $('.address-autocomplete-group span.lat-long').text(place.geometry.location.k.toFixed(3)+', '+place.geometry.location.A.toFixed(3));
        $('input[name="latitude"]').val(place.geometry.location.k);
        $('input[name="longitude"]').val(place.geometry.location.A);
    });
  });
</script>
