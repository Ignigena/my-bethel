<img ng-src="{{ ministry.coverImage | imageResize : 960 : 180 : 'default_poster.jpg' }}" flex="100" style="width:100%" />
<div flex="100" layout="row" layout-margin ng-controller="locationsController">
  <div flex="60">
    <md-whiteframe class="md-whiteframe-z1" layout layout-padding>
      <form name="editMinistry" layout="column" flex>
        <md-input-container>
          <label>Ministry Name</label>
          <input name="name" ng-model="ministry.name" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }" required/>
          <div ng-messages="!editMinistry.name.$untouched && editMinistry.name.$error">
            <div ng-message="required">Ministry name is required.</div>
          </div>
        </md-input-container>
        <md-input-container>
          <label>Public E-mail</label>
          <input
            type="email"
            name="email"
            ng-model="ministry.email"
            ng-model-options="{updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }"
            pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$"
          />
          <div ng-messages="!editMinistry.email.$untouched && editMinistry.email.$error">
            <div ng-message="pattern">Invalid email address.</div>
          </div>
        </md-input-container>
        <md-input-container>
          <label>Website URL</label>
          <input name="url" ng-model="ministry.url" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }" pattern="^https?:\/\/[a-zA-Z0-9_.+-]+.[a-zA-Z0-9_.+-]+$" />
          <div ng-messages="!editMinistry.url.$untouched && editMinistry.url.$error">
            <div ng-message="pattern">Your website must start with http:// or https://.</div>
          </div>
        </md-input-container>
        <md-input-container>
          <label>City and State/Province</label>
          <input ng-model="ministry.locality" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }" />
        </md-input-container>
        <md-input-container>
          <label>About Your Ministry</label>
          <textarea ng-model="ministry.description" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }" columns="1" rows="5"></textarea>
        </md-input-container>
      </form>
    </md-whiteframe>
  </div>
  <md-whiteframe flex="40" class="md-whiteframe-z1 locations-list" layout="column">
    <ui-gmap-google-map center="map.center" zoom="map.zoom" options="map.options">
      <ui-gmap-markers models="locations" coords="'loc'" fit="true" icon="'pin'"></ui-gmap-markers>
    </ui-gmap-google-map>
    <md-button class="md-fab md-fab-bottom-right md-hue-3" aria-label="Add" ng-click="locationForm($event)">
      <md-tooltip>New Location</md-tooltip>
      <md-icon>add</md-icon>
    </md-button>
    <md-list>
      <md-list-item ng-cloak ng-if="locations.length < 1">
        <p>Add your ministry locations using the <md-icon>add</md-icon> button to the right!</p>
      </md-list-item>
      <md-list-item class="md-2-line" ng-cloak ng-click="locationForm($event, location.id)" ng-repeat="location in locations | orderBy: 'name'">
        <md-icon>location_on</md-icon>
        <div class="md-list-item-text">
          <h3>{{ location.name }}</h3>
        </div>
        <md-divider ng-if="!$last"></md-divider>
      </md-list-item>
    </md-list>
  </md-whiteframe>
</div>
